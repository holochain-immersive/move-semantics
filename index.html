<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name="Description" content="Put your description here."><base href="/"><style>body,html{margin:0;padding:0;font-family:sans-serif;background-color:#ededed;--r-main-font-size:24px;--r-heading-margin:20px 0 12px 0}section{top:0!important}.hljs-keyword{color:hsl(242deg 75% 71%)!important}.slides{width:90%!important}.container{top:0!important;display:flex!important;flex-direction:row!important}.column{flex:1}.column2{flex:2}.column3{flex:3}section{text-align:left}.popover{position:absolute;background-color:#4d4d4d;padding:1rem 2rem;box-shadow:0 2px 5px 0 rgba(0,0,0,.26);border-radius:10px;width:auto;transform:translate(35px,-15px)}.popover:after{content:"";position:absolute;top:6px;left:-10px;border-style:solid;border-width:25px 25px 0;border-color:#4d4d4d transparent;display:block;width:0;z-index:1;transform:translate(-50%,50%) rotate(90deg)}.reveal pre code{max-height:800px!important}.arrow-block{position:absolute;left:-20px;top:0}.arrow-bigger{transform:scale(1.5,1.2)}.arrow-hotfix{transform:scale(2)}.arrow-right-arrow-point-down-left{position:absolute;top:200px;left:275px;transform:rotate(160deg) scale(10,2.5)}.arrow-left-arrow-point-down-right{position:absolute;top:200px;left:270px;transform:rotate(20deg) scale(10,2.5)}.arrow-right-arrow-point-down{position:absolute;top:200px;left:350px;transform:rotate(-90deg) scale(3,2.5)}.arrow-left-arrow-point-down{position:absolute;top:200px;left:170px;transform:rotate(-90deg) scale(3,2.5)}.arrow-blue{color:#00f}.arrow-green{color:green}.arrow-red{color:red}.arrow-slight-wide{transform:scale(2,1)}.arrow-stretch{transform:scale(2,1);min-height:100%}.arrow-stretch-more{transform:scale(3,1.5);min-height:100%}.arrow-stretch-lengthen{transform:scale(1,1.5);min-height:100%}.arrow-wide{transform:scale(4,1.5)}.diagram-box{min-height:3em;color:#000}.diagram-box-magenta{background-color:#ead1dc}.diagram-box-yellow{background-color:#fff2cc}.diagram-box-solid{border:4px solid grey}.diagram-box-dotted{border:4px dotted grey}.diagram-grid{display:grid;grid-template-columns:1fr 2fr 2fr;grid-gap:1em;row-gap:3em;align-items:center}.font-medium{font-size:1.25em}.font-smaller{font-size:.9em}.legend-grid{display:grid;grid-template-columns:1fr 3fr;grid-gap:5px}.legend-line{display:inline-block;width:60%;height:0;margin-left:15%;margin-top:10%;border-width:5px}.legend-line-dashed{border-top-style:dashed}.legend-line-dotted{border-top-style:dotted}.legend-line-solid{border-top-style:solid}.legend-line-blue{border-color:#00f}.legend-line-gray{border-color:gray}.legend-line-green{border-color:green}.legend-line-purple{border-color:#8e7cc3}.legend-line-red{border-color:red}.legend-caption{text-align:left;margin-bottom:1em}.legend-caption-tight{margin-bottom:.2em}.margin-left-small{margin-left:30px}.margin-top-small{margin-top:1.25em}.text-center{text-align:center;align-items:center}.text-left{text-align:left}.text-vertical{transform:rotate(-90deg)}.img-center{margin:0 auto}.opacity-0{opacity:0}.underline{text-decoration:underline}.border-right{border-right:5px solid red}.grid-container-1{display:grid;grid-template-columns:1fr;grid-gap:5px}.grid-container-1-1{display:grid;grid-template-columns:1fr 1fr;grid-gap:5px}.grid-container-1-3{display:grid;grid-template-columns:1fr 3fr;grid-gap:5px}.grid-container-2-3{display:grid;grid-template-columns:2fr 3fr;grid-gap:5px}.grid-container-1-2{display:grid;grid-template-columns:1fr 2fr;grid-gap:5px}.grid-container-3-1{display:grid;grid-template-columns:3fr 1fr;grid-gap:5px}.grid-container-3-1-3{display:grid;grid-template-columns:3fr 1fr 3fr;grid-gap:5px}.grid-container-1-4-4{display:grid;grid-template-columns:1fr 4fr 4fr;grid-gap:5px}.grid-no-gap{grid-gap:0px}.hide{visibility:hidden}.quadrant{padding:1em}.quadrant-top-left{border-bottom:3px solid #fff;border-right:3px solid #fff}.quadrant-top-right{border-bottom:3px solid #fff;border-left:3px solid #fff}.quadrant-bottom-left{border-top:3px solid #fff;border-right:3px solid #fff}.quadrant-bottom-right{border-top:3px solid #fff;border-left:3px solid #fff}.bg-grey{background-color:grey}.bg-light-grey{background-color:#d3d3d3}.bg-light-black{background-color:#191919}.bg-red{background-color:#ead1dc}.bg-yellow{background-color:#fff2cc}.border-solid{border-width:3px;border-style:solid}.border-dotted{border-width:3px;border-style:dotted}.border-grey{border-color:grey}.border-light-black{border-color:#191919}.stack-top{z-index:10}.text-black{color:#000}.text-white{color:#fff}.pad-20{padding:20px}.pad-light{padding:.3em}.margin-left-4em{margin-left:4em}.max-height-1{max-height:1em!important}.max-height-2{max-height:2em!important}.max-height-3{max-height:3em!important}.margin-decrease{margin-top:-7px}.min-width-5{min-width:5em}img{margin:0!important}.padding-top-heavy{padding-top:100%}.valign-top{align-items:initial}.title-slide{top:40%!important;text-align:center}</style><link rel="stylesheet" href="rust-move-semantics/bce6cb85.css"><link rel="stylesheet" href="rust-move-semantics/5265d60d.css"><link rel="stylesheet" href="rust-move-semantics/86125abe.css"><title>Move Semantics</title></head><body><div class="reveal"><div class="slides"><section class="title-slide"><h1>Move Semantics</h1></section><section><div class="grid-container-2-3 valign-top"><div><div class="grid-container-1-3 text-center"><div></div><div class="text-center"><p class="fragment" data-fragment-index="80">Creating<br><strong><u>Copyable Variables</u></strong></p></div><div><p class="pad-20 fragment" data-fragment-index="0">Source:</p></div><div class="bg-light-black border-solid border-light-black text-black pad-20"><div class="grid-container-3-1-3"><div class="bg-yellow border-solid border-grey fragment" data-fragment-index="10">Immutable<br>var</div><div><p></p></div><div class="bg-yellow border-dotted border-grey fragment" data-fragment-index="20">Mutable<br>var</div></div></div><div></div><div><div class="grid-container-3-1-3"><div class="r-stack img-center"><img class="max-height-1 arrow-wide fragment fade-in-then-out" data-fragment-index="60" src="rust-move-semantics/ea55504d.png" alt=""><p class="fragment" data-fragment-index="8"></p></div><div class="r-stack img-center"><img class="max-height-1 arrow-wide fragment fade-in-then-out" data-fragment-index="60" src="rust-move-semantics/9b4a4895.png" alt=""> <img class="max-height-1 arrow-wide fragment fade-in-then-out" data-fragment-index="60" src="rust-move-semantics/8555f080.png" alt=""></div><div class="r-stack img-center"><img class="max-height-1 arrow-wide fragment fade-in-then-out" data-fragment-index="60" src="rust-move-semantics/ea55504d.png" alt=""><p class="popover fragment fade-in-then-out text-left stack-top" data-fragment-index="60">All of these assignments are possible. How will each behave?</p><span class="fragment" data-fragment-index="70"></span></div></div></div><div><p class="pad-20 fragment" data-fragment-index="30">New:</p></div><div class="bg-light-black border-solid border-light-black text-black pad-20"><div class="grid-container-3-1-3"><div class="bg-yellow border-solid border-grey fragment" data-fragment-index="40">Immutable<br>var</div><div><p></p></div><div class="bg-yellow border-dotted border-grey fragment" data-fragment-index="50">Mutable<br>var</div></div></div></div></div><div class="text-center margin-left-small text-center hide"><p class="underline"><strong>Sample code</strong></p></div></div></section><section><div class="grid-container-2-3 valign-top"><div><div class="grid-container-1-3 text-center"><div></div><div class="text-center"><p>Creating<br><strong><u>Copyable Variables</u></strong></p></div><div><p class="pad-20 margin-decrease">Source:</p></div><div class="bg-light-grey border-solid border-grey text-black pad-20"><div class="grid-container-3-1-3"><div class="bg-yellow border-solid border-grey">Immutable<br>var</div><div><p>or</p></div><div class="bg-yellow border-dotted border-grey">Mutable<br>var</div></div></div><div></div><div><div class="grid-container-3-1-3"><div class="r-stack img-center"></div><div class="r-stack img-center"><img class="max-height-1 arrow-wide fragment" data-fragment-index="0" src="rust-move-semantics/ea55504d.png" alt=""> <img class="max-height-1 arrow-wide fragment" data-fragment-index="7" src="rust-move-semantics/a0bfec66.png" alt=""></div><div class="r-stack img-center"></div></div></div><div><p class="pad-20 margin-decrease">New:</p></div><div class="bg-light-grey border-solid border-grey text-black pad-20"><div class="grid-container-3-1-3"><div class="bg-yellow border-solid border-grey">Immutable<br>var</div><div><p>or</p></div><div class="bg-yellow border-dotted border-grey">Mutable<br>var</div></div></div></div><div class="grid-container-1-3 font-smaller margin-decrease"><div></div><div class="underline text-center margin-top-small fragment" data-fragment-index="0"><strong>Legend</strong></div><div class="legend-line legend-line-dotted legend-line-gray fragment" data-fragment-index="0"></div><div class="legend-caption-tight fragment" data-fragment-index="0">Question: how will this relationship behave?</div><div class="legend-line legend-line-solid legend-line-gray fragment" data-fragment-index="8"></div><div class="legend-caption-tight fragment" data-fragment-index="8">Independent copy created</div></div></div><div class="text-center margin-left-small text-center"><p class="underline fragment" data-fragment-index="1"><strong>Sample code</strong></p><pre>              <code class="rust font-medium fragment" data-fragment-index="1" data-line-numbers="" data-trim="" data-noescape="">
                <span class="fragment" data-fragment-index="2">// A function that takes an immutable var</span>
                <span class="fragment" data-fragment-index="3">fn take_imm_var(immutable_input: i32) {}</span>
                
                <span class="fragment" data-fragment-index="4">let immutable_source = 5;</span>
                <span class="fragment" data-fragment-index="5">take_imm_var(immutable_source);</span>
                <span class="fragment" data-fragment-index="6">take_imm_var(immutable_source);</span><span class="fragment" data-fragment-index="9"> // works fine</span>
                
                <span class="fragment" data-fragment-index="10">let mut mutable_source = 5;</span>
                <span class="fragment" data-fragment-index="11">take_imm_var(mutable_source);</span>
                <span class="fragment" data-fragment-index="12">take_imm_var(mutable_source);</span><span class="fragment" data-fragment-index="13"> // works fine</span>


                <span class="fragment" data-fragment-index="14">// A function that takes a mutable var</span>
                <span class="fragment" data-fragment-index="15">fn take_mut_var(mut mutable_input: i32) {}</span>

                <span class="fragment" data-fragment-index="16">let mut mutable_source = 5;</span>
                <span class="fragment" data-fragment-index="17">take_mut_var(mutable_source);</span>
                <span class="fragment" data-fragment-index="18">take_mut_var(mutable_source);</span><span class="fragment" data-fragment-index="19"> // works fine</span>

                <span class="fragment" data-fragment-index="20">let immutable_source = 5;</span>
                <span class="fragment" data-fragment-index="21">take_mut_var(immutable_source);</span>
                <span class="fragment" data-fragment-index="22">take_mut_var(immutable_source);</span><span class="fragment" data-fragment-index="23"> // works fine</span>
              </code>
            </pre></div></div></section><section><div class="grid-container-2-3 valign-top"><div><div class="grid-container-1-3 text-center"><div></div><div class="text-center"><p>Creating<br><strong class="fragment" data-fragment-index="0"><u>Uncopyable Variables</u></strong></p></div><div><p class="pad-20 margin-decrease">Source:</p></div><div class="bg-light-black border-solid border-light-black text-black pad-20"><div class="grid-container-3-1-3"><div class="bg-yellow border-solid border-grey">Immutable<br>var</div><div><p></p></div><div class="bg-yellow border-dotted border-grey">Mutable<br>var</div></div></div><div></div><div><div class="grid-container-3-1-3"><div class="r-stack img-center"></div><div class="r-stack img-center"><img class="max-height-1 arrow-wide hide" src="rust-move-semantics/ea55504d.png" alt=""> <img class="max-height-1 arrow-wide hide" src="rust-move-semantics/a0bfec66.png" alt=""></div><div class="r-stack img-center"></div></div></div><div><p class="pad-20 margin-decrease">New:</p></div><div class="bg-light-black border-solid border-light-black text-black pad-20"><div class="grid-container-3-1-3"><div class="bg-yellow border-solid border-grey">Immutable<br>var</div><div><p></p></div><div class="bg-yellow border-dotted border-grey">Mutable<br>var</div></div></div></div><div class="grid-container-1-3 font-smaller margin-decrease"><div></div><div class="underline text-center margin-top-small"><strong>Legend</strong></div><div class="legend-line legend-line-dotted legend-line-gray"></div><div class="legend-caption-tight">Question: how will this relationship behave?</div><div class="legend-line legend-line-solid legend-line-gray"></div><div class="legend-caption-tight">Independent copy created</div></div></div><div class="text-center margin-left-small text-center"><p class="underline"><strong>Sample code</strong></p><pre>              <code class="rust font-medium" data-line-numbers="" data-trim="" data-noescape="">
                &nbsp;
                &nbsp;
                &nbsp;
                &nbsp;
                &nbsp;
                &nbsp;
                &nbsp;
                &nbsp;
                &nbsp;
                &nbsp;
                &nbsp;
                &nbsp;
                &nbsp;
                &nbsp;
                &nbsp;
                &nbsp;
                &nbsp;
                &nbsp;
                &nbsp;
                &nbsp;
                &nbsp;
                &nbsp;
              </code>
            </pre></div></div></section><section><div class="grid-container-2-3 valign-top"><div><div class="grid-container-1-3 text-center"><div></div><div class="text-center"><p>Creating<br><strong><u>Uncopyable Variables</u></strong></p></div><div><p class="pad-20 margin-decrease">Source:</p></div><div class="bg-light-grey border-solid border-grey text-black pad-20"><div class="grid-container-3-1-3"><div class="bg-yellow border-solid border-grey">Immutable<br>var</div><div><p>or</p></div><div class="bg-yellow border-dotted border-grey">Mutable<br>var</div></div></div><div></div><div><div class="grid-container-3-1-3"><div class="r-stack img-center"></div><div class="r-stack img-center"><span class="fragment" data-fragment-index="0"><img class="max-height-1 arrow-wide fragment fade-out" data-fragment-index="10" src="rust-move-semantics/ea55504d.png" alt=""> </span><img class="max-height-1 arrow-wide fragment" data-fragment-index="10" src="rust-move-semantics/0ac28d68.png" alt=""></div><div class="r-stack img-center"></div></div></div><div><p class="pad-20 margin-decrease">New:</p></div><div class="bg-light-grey border-solid border-grey text-black pad-20"><div class="grid-container-3-1-3"><div class="bg-yellow border-solid border-grey">Immutable<br>var</div><div><p>or</p></div><div class="bg-yellow border-dotted border-grey">Mutable<br>var</div></div></div></div><div class="grid-container-1-3 font-smaller margin-decrease"><div></div><div class="underline text-center margin-top-small"><strong>Legend</strong></div><div class="legend-line legend-line-dotted legend-line-gray"></div><div class="legend-caption-tight">Question: how will this relationship behave?</div><div class="legend-line legend-line-solid legend-line-gray"></div><div class="legend-caption-tight">Independent copy created</div><div class="legend-line legend-line-solid legend-line-blue fragment" data-fragment-index="11"></div><div class="legend-caption-tight fragment" data-fragment-index="11">Source var consumed</div></div></div><div class="text-center margin-left-small text-center"><p class="underline"><strong>Sample code</strong></p><pre>                    <code class="rust font-medium" data-line-numbers="" data-noescape="" data-trim="">
                      <span class="fragment" data-fragment-index="1">// A function that takes an uncopyable immutable var</span>
                      <span class="fragment" data-fragment-index="2">fn take_imm_var(immutable_input: String) {}</span>

                      <span class="fragment" data-fragment-index="3">let immutable_source = String::from("hi");</span>
                      <span class="fragment" data-fragment-index="4">take_imm_var(immutable_source);</span>
                      <span class="fragment" data-fragment-index="5">take_imm_var(immutable_source);</span><span class="fragment" data-fragment-index="20"> // err</span>

                      <span class="fragment" data-fragment-index="30">let mut mutable_source = String::from("hi");</span>
                      <span class="fragment" data-fragment-index="40">take_imm_var(mutable_source);</span>
                      <span class="fragment" data-fragment-index="50">take_imm_var(mutable_source);</span><span class="fragment" data-fragment-index="60"> // err</span>


                      <span class="fragment" data-fragment-index="70">// A function that takes an uncopyable mutable var</span>
                      <span class="fragment" data-fragment-index="80">fn take_mut_var(mut mutable_input: String) {}</span>

                      <span class="fragment" data-fragment-index="90">let mut mutable_source = String::from("hi");</span>
                      <span class="fragment" data-fragment-index="100">take_mut_var(mutable_source);</span>
                      <span class="fragment" data-fragment-index="110">take_mut_var(mutable_source);</span><span class="fragment" data-fragment-index="120"> // err</span>

                      <span class="fragment" data-fragment-index="130">let immutable_source = String::from("hi");</span>
                      <span class="fragment" data-fragment-index="140">take_mut_var(immutable_source);</span>
                      <span class="fragment" data-fragment-index="150">take_mut_var(immutable_source);</span><span class="fragment" data-fragment-index="160"> // err</span>
                    </code>
                  </pre></div></div></section><section><div class="grid-container-2-3 valign-top"><div><div class="grid-container-1-3 text-center"><div></div><div><p>Creating<br><strong class="fragment" data-fragment-index="0"><u>Copyable References</u></strong></p></div><div><p>Source:</p></div><div class="text-black"><div class="grid-container-3-1-3"><div class="bg-yellow border-solid border-grey fragment" data-fragment-index="10">Immutable<br>var</div><div></div><div class="bg-yellow border-dotted border-grey fragment" data-fragment-index="10">Mutable<br>var</div></div></div><div></div><div><div class="grid-container-3-1-3"><div class="r-stack img-center"><span class="fragment" data-fragment-index="30"><img class="max-height-3 fragment fade-out" data-fragment-index="36" src="rust-move-semantics/ea55504d.png" alt=""> </span><img class="max-height-3 fragment" data-fragment-index="36" src="rust-move-semantics/a0bfec66.png" alt=""></div><div class="r-stack img-center"><img class="arrow-stretch fragment" data-fragment-index="40" src="rust-move-semantics/8555f080.png" alt=""> <img class="arrow-stretch fragment" data-fragment-index="44" src="rust-move-semantics/1225af8b.png" alt=""> <span class="fragment" data-fragment-index="80"><img class="arrow-hotfix fragment fade-out" data-fragment-index="90" src="rust-move-semantics/9b4a4895.png"> </span><img class="arrow-stretch fragment" data-fragment-index="90" src="rust-move-semantics/47ce0253.png" alt=""></div><div class="r-stack img-center"><span class="fragment" data-fragment-index="50"><img class="max-height-3 fragment fade-out" data-fragment-index="60" src="rust-move-semantics/ea55504d.png" alt=""> </span><img class="max-height-3 fragment" data-fragment-index="60" src="rust-move-semantics/da2591c6.png" alt=""></div></div></div><div><p>New:</p></div><div class="text-black"><div class="grid-container-3-1-3"><div class="bg-red border-solid border-grey fragment" data-fragment-index="20">Immutable<br>ref</div><div></div><div class="bg-red border-dotted border-grey fragment" data-fragment-index="20">Mutable<br>ref</div></div></div></div><div class="grid-container-1-3 font-smaller"><div></div><div class="underline text-center margin-top-small"><strong>Legend</strong></div><div class="legend-line legend-line-dotted legend-line-gray"></div><div class="legend-caption-tight">Question: how will this relationship behave?</div><div class="legend-line legend-line-solid legend-line-gray"></div><div class="legend-caption-tight">Independent copy created</div><div class="legend-line legend-line-solid legend-line-blue"></div><div class="legend-caption-tight">Source var consumed</div><div class="legend-line legend-line-solid legend-line-green fragment" data-fragment-index="70"></div><div class="legend-caption-tight fragment" data-fragment-index="70">Shared mutations</div><div class="legend-line legend-line-dotted legend-line-red fragment" data-fragment-index="91"></div><div class="legend-caption-tight fragment" data-fragment-index="91">Disallowed</div></div></div><div class="text-center margin-left-small"><p class="underline"><strong>Sample code</strong></p><pre>                    <code class="rust font-medium" data-line-numbers="" data-trim="" data-noescape="">
                      <span class="fragment" data-fragment-index="31">// A function that takes an immutable ref</span>
                      <span class="fragment" data-fragment-index="32">fn take_imm_ref(immutable_input: &amp;i32) {}</span>

                      <span class="fragment" data-fragment-index="33">let immutable_source = 5;</span>
                      <span class="fragment" data-fragment-index="34">take_imm_ref(&amp;immutable_source);</span>
                      <span class="fragment" data-fragment-index="35">take_imm_ref(&amp;immutable_source);</span><span class="fragment" data-fragment-index="37"> // works fine</span>

                      <span class="fragment" data-fragment-index="41">let mut mutable_source = 5;</span>
                      <span class="fragment" data-fragment-index="42">take_imm_ref(&amp;mutable_source);</span>
                      <span class="fragment" data-fragment-index="43">take_imm_ref(&amp;mutable_source);</span><span class="fragment" data-fragment-index="45"> // works fine</span>


                      <span class="fragment" data-fragment-index="51">// A function that takes a mutable ref</span>
                      <span class="fragment" data-fragment-index="52">fn take_mut_ref(mutable_input: &amp;mut i32) {}</span>

                      <span class="fragment" data-fragment-index="53">let mut mutable_source = 5;</span>
                      <span class="fragment" data-fragment-index="54">take_mut_ref(&amp;mut mutable_source);</span><span class="fragment" data-fragment-index="71"> // shares mutation</span>
                      <span class="fragment" data-fragment-index="72">take_mut_ref(&amp;mut mutable_source);</span><span class="fragment" data-fragment-index="73"> // shares mutation</span>

                      <span class="fragment" data-fragment-index="81">let immutable_source = 5;</span>
                      <span class="fragment" data-fragment-index="82">take_mut_ref(&amp;mut immutable_source);</span><span class="fragment" data-fragment-index="100"> // err</span>
      
                    </code>
                  </pre></div></div></section><section><div class="grid-container-2-3 valign-top"><div><div class="grid-container-1-3 text-center"><div></div><div><p>Creating<br><strong class="fragment" data-fragment-index="0"><u>Uncopyable References</u></strong></p></div><div><p>Source:</p></div><div class="text-black"><div class="grid-container-3-1-3"><div class="bg-yellow border-solid border-grey">Immutable<br>var</div><div></div><div class="bg-yellow border-dotted border-grey">Mutable<br>var</div></div></div><div></div><div><div class="grid-container-3-1-3"><div class="r-stack img-center"><span class="fragment" data-fragment-index="10"><img class="max-height-3 fragment fade-out" data-fragment-index="20" src="rust-move-semantics/ea55504d.png" alt=""> </span><img class="max-height-3 fragment" data-fragment-index="20" src="rust-move-semantics/7a019d81.png" alt=""></div><div class="r-stack img-center"><span class="fragment" data-fragment-index="40"><img class="arrow-hotfix fragment fade-out" data-fragment-index="45" src="rust-move-semantics/8555f080.png" alt=""> </span><img class="arrow-stretch fragment" data-fragment-index="45" src="rust-move-semantics/47529872.png" alt=""> <span class="fragment" data-fragment-index="80"><img class="arrow-hotfix fragment fade-out" data-fragment-index="90" src="rust-move-semantics/9b4a4895.png" alt=""> </span><img class="arrow-stretch fragment" data-fragment-index="90" src="rust-move-semantics/47ce0253.png" alt=""></div><div class="r-stack img-center"><span class="fragment" data-fragment-index="60"><img class="max-height-3 fragment fade-out" data-fragment-index="70" src="rust-move-semantics/ea55504d.png" alt=""> </span><img class="max-height-3 fragment" data-fragment-index="70" src="rust-move-semantics/da2591c6.png" alt=""></div></div></div><div><p>New:</p></div><div class="text-black"><div class="grid-container-3-1-3"><div class="bg-red border-solid border-grey">Immutable<br>ref</div><div></div><div class="bg-red border-dotted border-grey">Mutable<br>ref</div></div></div></div><div class="grid-container-1-3 font-smaller"><div></div><div class="underline text-center margin-top-small"><strong>Legend</strong></div><div class="legend-line legend-line-dotted legend-line-gray"></div><div class="legend-caption-tight">Question: how will this relationship behave?</div><div class="legend-line legend-line-solid legend-line-gray"></div><div class="legend-caption-tight">Independent copy created</div><div class="legend-line legend-line-solid legend-line-blue"></div><div class="legend-caption-tight">Source var consumed</div><div class="legend-line legend-line-solid legend-line-green"></div><div class="legend-caption-tight">Shared mutations</div><div class="legend-line legend-line-dotted legend-line-red"></div><div class="legend-caption-tight">Disallowed</div><div class="legend-line legend-line-solid legend-line-purple fragment" data-fragment-index="30"></div><div class="legend-caption-tight fragment" data-fragment-index="30">Consumption of source var blocked by any later uses of new ref</div></div></div><div class="text-center margin-left-small"><p class="underline"><strong>Sample code</strong></p><pre>              <code class="rust font-medium" data-line-numbers="" data-trim="" data-noescape="">
                <span class="fragment" data-fragment-index="11">// A function that takes an immutable ref</span>
                <span class="fragment" data-fragment-index="12">fn take_imm_ref(immutable_input: &amp;String) {}</span>

                <span class="fragment" data-fragment-index="13">let immutable_source = String::from("hi");</span>
                <span class="fragment" data-fragment-index="14">take_imm_ref(&amp;immutable_source);</span>
                <span class="fragment" data-fragment-index="15">let consumer = immutable_source;</span><span class="fragment" data-fragment-index="35"> // err</span>
                <span class="fragment" data-fragment-index="35">take_imm_ref(&amp;immutable_source);</span><span class="fragment" data-fragment-index="36"> // cause of err</span>

                <span class="fragment" data-fragment-index="41">let mut mutable_source = String::from("hi");</span>
                <span class="fragment" data-fragment-index="42">take_imm_ref(&amp;mutable_source);</span>
                <span class="fragment" data-fragment-index="43">let consumer = mutable_source;</span><span class="fragment" data-fragment-index="46"> // err</span>
                <span class="fragment" data-fragment-index="46">take_imm_ref(&amp;mutable_source);</span><span class="fragment" data-fragment-index="47"> // cause of err</span>

                <span class="fragment" data-fragment-index="61">// A function that takes a mutable ref</span>
                <span class="fragment" data-fragment-index="62">fn take_mut_ref(mutable_input: &amp;mut String) {}</span>

                <span class="fragment" data-fragment-index="63">let mut mutable_source = String::from("hi");</span>
                <span class="fragment" data-fragment-index="64">take_mut_ref(&amp;mut mutable_source);</span><span class="fragment" data-fragment-index="71"> // shares mutation</span>
                <span class="fragment" data-fragment-index="72">take_mut_ref(&amp;mut mutable_source);</span><span class="fragment" data-fragment-index="73"> // shares mutation</span>

                <span class="fragment" data-fragment-index="81">let immutable_source = String::from("hi");</span>
                <span class="fragment" data-fragment-index="82">take_mut_ref(&amp;mut immutable_source);</span><span class="fragment" data-fragment-index="91"> // err</span>
              </code>
            </pre></div></div></section><section><div class="grid-container-3-1 text-center"><div><div class="grid-container-1-4-4 grid-no-gap"><div></div><div><p class="underline"><strong>Copyable</strong></p></div><div><p class="underline"><strong>Uncopyable</strong></p></div><div class="padding-top-heavy"><p class="underline text-vertical"><strong>Variables</strong></p></div><div class="fragment" data-fragment-index="0"><div class="grid-container-1 quadrant quadrant-top-left"><div class="bg-light-grey border-solid border-grey text-black pad-20"><div class="grid-container-3-1-3"><div class="bg-yellow border-solid border-grey">Immutable<br>var</div><div><p>or</p></div><div class="bg-yellow border-dotted border-grey">Mutable<br>var</div></div></div><div><div class="grid-container-3-1-3"><div></div><div class="img-center"><img class="max-height-1 arrow-wide" src="rust-move-semantics/a0bfec66.png" alt=""></div><div></div></div></div><div class="bg-light-grey border-solid border-grey text-black pad-20"><div class="grid-container-3-1-3"><div class="bg-yellow border-solid border-grey">Immutable<br>var</div><div><p>or</p></div><div class="bg-yellow border-dotted border-grey">Mutable<br>var</div></div></div></div></div><div class="fragment" data-fragment-index="10"><div class="grid-container-1 quadrant quadrant-top-right"><div class="bg-light-grey border-solid border-grey text-black pad-20"><div class="grid-container-3-1-3"><div class="bg-yellow border-solid border-grey">Immutable<br>var</div><div><p>or</p></div><div class="bg-yellow border-dotted border-grey">Mutable<br>var</div></div></div><div><div class="grid-container-3-1-3"><div></div><div class="img-center"><img class="max-height-1 arrow-wide" src="rust-move-semantics/0ac28d68.png" alt=""></div><div></div></div></div><div class="bg-light-grey border-solid border-grey text-black pad-20"><div class="grid-container-3-1-3"><div class="bg-yellow border-solid border-grey">Immutable<br>var</div><div><p>or</p></div><div class="bg-yellow border-dotted border-grey">Mutable<br>var</div></div></div></div></div><div class="padding-top-heavy"><p class="underline text-vertical"><strong>References</strong></p></div><div class="fragment" data-fragment-index="20"><div class="grid-container-1 quadrant quadrant-bottom-left"><div class="text-black"><div class="grid-container-3-1-3"><div class="bg-yellow border-solid border-grey">Immutable<br>var</div><div></div><div class="bg-yellow border-dotted border-grey">Mutable<br>var</div></div></div><div><div class="grid-container-3-1-3"><div class="img-center"><img class="max-height-2 arrow-bigger" src="rust-move-semantics/a0bfec66.png" alt=""></div><div class="r-stack img-center"><img class="arrow-stretch" src="rust-move-semantics/1225af8b.png" alt=""> <img class="arrow-stretch" src="rust-move-semantics/47ce0253.png" alt=""></div><div class="img-center"><img class="max-height-2 arrow-bigger" src="rust-move-semantics/da2591c6.png" alt=""></div></div></div><div class="text-black"><div class="grid-container-3-1-3"><div class="bg-red border-solid border-grey">Immutable<br>ref</div><div></div><div class="bg-red border-dotted border-grey">Mutable<br>ref</div></div></div></div></div><div class="fragment" data-fragment-index="30"><div class="grid-container-1 quadrant quadrant-bottom-right"><div class="text-black"><div class="grid-container-3-1-3"><div class="bg-yellow border-solid border-grey">Immutable<br>var</div><div></div><div class="bg-yellow border-dotted border-grey">Mutable<br>var</div></div></div><div><div class="grid-container-3-1-3"><div class="img-center"><img class="max-height-2 arrow-bigger" src="rust-move-semantics/7a019d81.png" alt=""></div><div class="r-stack img-center"><img class="arrow-stretch" src="rust-move-semantics/47529872.png" alt=""> <img class="arrow-stretch" src="rust-move-semantics/47ce0253.png" alt=""></div><div class="img-center"><img class="max-height-2 arrow-bigger" src="rust-move-semantics/da2591c6.png" alt=""></div></div></div><div class="text-black"><div class="grid-container-3-1-3"><div class="bg-red border-solid border-grey">Immutable<br>ref</div><div></div><div class="bg-red border-dotted border-grey">Mutable<br>ref</div></div></div></div></div><div></div></div></div><div><p class="underline"><strong>Legend</strong></p><div class="grid-container-1-3"><div class="legend-line legend-line-dotted legend-line-gray"></div><div class="legend-caption">Question: how will this relationship behave?</div><div class="legend-line legend-line-solid legend-line-gray"></div><div class="legend-caption">Independent copy created</div><div class="legend-line legend-line-solid legend-line-blue"></div><div class="legend-caption">Source var consumed</div><div class="legend-line legend-line-solid legend-line-green"></div><div class="legend-caption">Shared mutations</div><div class="legend-line legend-line-dotted legend-line-red"></div><div class="legend-caption">Disallowed</div><div class="legend-line legend-line-solid legend-line-purple"></div><div class="legend-caption">Consumption of source var blocked by any later uses of new ref</div></div></div></div></section><section class="title-slide"><h1>That's it!</h1></section></div></div><script type="module" src="./rust-move-semantics/f97af496.js"></script></body></html>